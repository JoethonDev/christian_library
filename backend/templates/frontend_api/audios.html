<!-- templates/frontend_api/audios.html -->
{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Audio Library" %} - {% trans "Christian Library" %}{% endblock %}

{% block content %}
<div class="container-fluid px-4">
    <!-- Page Header with Search -->
    <div class="row align-items-center mb-5">
        <div class="col-md-8">
            <div class="d-flex align-items-center mb-3">
                <div class="p-3 rounded-circle me-3" style="background: #E6E6FA; backdrop-filter: blur(10px);">
                    <i class="bi bi-music-note-beamed" style="font-size: 2rem; color: white;"></i>
                </div>
                <div>
                    <h1 class="h2 mb-1 fw-bold" style="color: var(--bs-primary);">{% trans "Audio Library" %}</h1>
                    <p class="text-muted mb-0">{% trans "Listen to inspiring sermons and spiritual messages" %}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="position-relative">
                <input type="search" class="form-control form-control-lg ps-5" 
                       style="border-radius: 25px; border: 2px solid #E6E6FA; background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);"
                       placeholder="{% trans 'Search audio messages...' %}"
                       name="search" value="{{ search_query }}"
                       hx-get="{% url 'frontend_api:audios' %}" 
                       hx-target="#audio-grid" 
                       hx-trigger="keyup changed delay:500ms">
                <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
            </div>
        </div>
    </div>

    <!-- Audio Stats -->
    <div class="row g-4 mb-5">
        <div class="col-md-3">
            <div class="card border-0 text-center h-100" style="background: linear-gradient(135deg, #9370DB, #8A2BE2); backdrop-filter: blur(10px); border-radius: 20px; color: white; border: 1px solid rgba(147, 112, 219, 0.2);">
                <div class="card-body py-4">
                    <i class="bi bi-headphones" style="font-size: 2.5rem; color: white;"></i>
                    <h5 class="mt-3 mb-1 fw-bold text-white">{{ audios.count|default:0 }}</h5>
                    <p class="text-white mb-0 small fw-medium">{% trans "Audio Messages" %}</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 text-center h-100" style="background: linear-gradient(135deg, #4169E1, #1E90FF); backdrop-filter: blur(10px); border-radius: 20px; color: white; border: 1px solid rgba(65, 105, 225, 0.2);">
                <div class="card-body py-4">
                    <i class="bi bi-clock-history" style="font-size: 2.5rem; color: white;"></i>
                    <h5 class="mt-3 mb-1 fw-bold text-white">{% trans "Latest" %}</h5>
                    <p class="text-white mb-0 small fw-medium">{% trans "Recently Added" %}</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 text-center h-100" style="background: linear-gradient(135deg, #B8860B, #DAA520); backdrop-filter: blur(10px); border-radius: 20px; color: white; border: 1px solid rgba(184, 134, 11, 0.2);">
                <div class="card-body py-4">
                    <i class="bi bi-star-fill" style="font-size: 2.5rem; color: white;"></i>
                    <h5 class="mt-3 mb-1 fw-bold text-white">{% trans "Featured" %}</h5>
                    <p class="text-white mb-0 small fw-medium">{% trans "Popular Messages" %}</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card border-0 text-center h-100" style="background: linear-gradient(135deg, #8B4513, #A0522D); backdrop-filter: blur(10px); border-radius: 20px; color: white; border: 1px solid rgba(139, 69, 19, 0.2);">
                <div class="card-body py-4">
                    <i class="bi bi-collection-play" style="font-size: 2.5rem; color: white;"></i>
                    <h5 class="mt-3 mb-1 fw-bold text-white">{% trans "Playlists" %}</h5>
                    <p class="text-white mb-0 small fw-medium">{% trans "Organized Content" %}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Grid -->
    <div id="audio-grid" class="row g-4 mb-5">
        {% include "frontend_api/partials/audio_grid.html" %}
    </div>
</div>

<style>
.card:hover {
    transform: translateY(-5px);
    transition: transform 0.3s ease;
}

.form-control:focus {
    border-color: #E6E6FA;
    box-shadow: 0 0 0 0.25rem rgba(230, 230, 250, 0.25);
}
</style>
{% endblock %}